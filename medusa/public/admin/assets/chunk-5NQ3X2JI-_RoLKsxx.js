import{g as N,i as w}from"./chunk-EHAU7SOS-CLzxgcUB.js";import{I as R}from"./chunk-EQTBJSBZ-BwYO5z87.js";import{r as P,b as m,j as e,bM as D,d4 as A,o as j,fG as _,J as z,H as S,a4 as v,bi as T,L as k,A as E,a6 as I,P as L,T as U,u as $,f as y,fH as B,t as p}from"./index-CZ-S67iV.js";import{u as H}from"./chunk-X6DSNTTX-C21SOY-7.js";import{R as M}from"./react-country-flag.esm-CuToIWQw.js";var Y=({taxRegion:a,to:s="/settings/tax-regions"})=>{const{t}=m(),n=$(),l=y(),{mutateAsync:c}=B(a.id);return async()=>{await l({title:t("general.areYouSure"),description:t("taxRegions.delete.confirmation"),confirmText:t("actions.delete"),cancelText:t("actions.cancel")})&&await c(void 0,{onSuccess:()=>{p.success(t("taxRegions.delete.successToast")),n(s,{replace:!0})},onError:i=>{p.error(i.message)}})}},Q=a=>{const{t:s}=m(),t=y(),{mutateAsync:n}=H(a.id);return async()=>{await t({title:s("general.areYouSure"),description:s("taxRegions.taxRates.delete.confirmation",{name:a.name}),confirmText:s("actions.delete"),cancelText:s("actions.cancel")})&&await n(void 0,{onSuccess:()=>{p.success(s("taxRegions.taxRates.delete.successToast"))},onError:d=>{p.error(d.message)}})}},V=({taxRegion:a,type:s="list",variant:t="country",asLink:n=!0,badge:l})=>{const{t:c}=m(),{id:d,country_code:o,province_code:i}=a,r=A(o),g=N(i);let x="N/A",u=null;g||i?x=g||i.toUpperCase():(r||o)&&(x=r?r.display_name:o.toUpperCase()),o&&i&&!w(o,i)&&(x=i.toUpperCase(),u=c("taxRegions.fields.sublevels.tooltips.notPartOfCountry",{country:r==null?void 0:r.display_name,province:i.toUpperCase()}));const f=!a.tax_rates.filter(C=>C.is_default).length&&s==="header",h=e.jsxs("div",{className:j("group-data-[link=true]:hover:bg-ui-bg-base-hover transition-fg flex flex-col justify-between gap-y-4 px-6 md:flex-row md:items-center md:gap-y-0",{"py-4":s==="header","py-3":s==="list"}),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-x-4",children:[e.jsx(R,{size:s==="list"?"small":"large",children:o&&!i?e.jsx("div",{className:j("flex size-fit items-center justify-center overflow-hidden rounded-[1px]",{"rounded-sm":s==="header"}),children:e.jsx(M,{countryCode:o,svg:!0,style:s==="list"?{width:"12px",height:"9px"}:{width:"16px",height:"12px"},"aria-label":r==null?void 0:r.display_name})}):e.jsx(_,{className:"text-ui-fg-subtle"})}),e.jsx("div",{children:s==="list"?e.jsx(z,{size:"small",weight:"plus",leading:"compact",children:x}):e.jsx("div",{className:"flex items-center gap-x-2",children:e.jsx(S,{children:x})})})]}),e.jsxs("div",{className:"flex size-fit items-center gap-x-2 md:hidden",children:[u&&e.jsx(v,{content:u,children:e.jsx(T,{className:"text-ui-tag-orange-icon"})}),l,e.jsx(b,{taxRegion:a,showCreateDefaultTaxRate:f})]})]}),e.jsxs("div",{className:"hidden size-fit items-center gap-x-2 md:flex",children:[u&&e.jsx(v,{content:u,children:e.jsx(T,{className:"text-ui-tag-orange-icon"})}),l,e.jsx(b,{taxRegion:a,showCreateDefaultTaxRate:f})]})]});return n?e.jsx(k,{to:t==="country"?`${d}`:`provinces/${d}`,"data-link":"true",className:"group block",children:h}):h},b=({taxRegion:a,showCreateDefaultTaxRate:s})=>{const{t}=m(),n=!!a.parent_id,l=n?`/settings/tax-regions/${a.parent_id}`:void 0,c=Y({taxRegion:a,to:l});return e.jsx(E,{groups:[...s?[{actions:[{icon:e.jsx(I,{}),label:t("taxRegions.fields.defaultTaxRate.action"),to:"tax-rates/create"}]}]:[],{actions:[!n&&{icon:e.jsx(L,{}),label:t("actions.edit"),to:`/settings/tax-regions/${a.id}/edit`},{icon:e.jsx(U,{}),label:t("actions.delete"),onClick:c}].filter(Boolean)}]})},q=P.forwardRef((a,s)=>{const{t}=m(),n={of:t("general.of"),results:t("general.results"),pages:t("general.pages"),prev:t("general.prev"),next:t("general.next")};return e.jsx(D.Pagination,{...a,translations:n,ref:s})});q.displayName="LocalizedTablePagination";export{q as L,V as T,Q as u};
