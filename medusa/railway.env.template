# Railway Environment Variables Template for Medusa
# Copy these to your Railway project settings
# Dashboard: https://railway.app/project/7d4ddac3-5123-4445-98cf-714ad52a324a/settings/environment

# ============================================
# CORE CONFIGURATION
# ============================================
NODE_ENV=production
PORT=${{PORT}}
NODE_OPTIONS=--max-old-space-size=2048

# ============================================
# DATABASE (PostgreSQL)
# ============================================
# Railway provides DATABASE_URL automatically when you add PostgreSQL service
# Or set manually:
# DATABASE_URL=postgresql://user:password@host:port/database?sslmode=require

# ============================================
# REDIS (Optional - for caching)
# ============================================
# Railway provides REDIS_URL automatically when you add Redis service
# Or set manually:
# REDIS_URL=rediss://default:password@host:port

# ============================================
# AUTHENTICATION & SECURITY
# ============================================
# Generate secure random strings (use: openssl rand -hex 32)
JWT_SECRET=your_jwt_secret_here_min_32_chars
COOKIE_SECRET=your_cookie_secret_here_min_32_chars

# ============================================
# MEDUSA CONFIGURATION
# ============================================
# Admin backend URL (your Railway deployment URL)
MEDUSA_ADMIN_BACKEND_URL=https://medusa-backend-production-3655.up.railway.app
MEDUSA_BACKEND_URL=https://medusa-backend-production-3655.up.railway.app

# ============================================
# CORS CONFIGURATION
# ============================================
# Frontend URLs that can access the API
STORE_CORS=https://tara-hub.vercel.app,https://fabric-store.vercel.app,http://localhost:3000,http://localhost:3006
ADMIN_CORS=https://medusa-backend-production-3655.up.railway.app

# ============================================
# STRIPE PAYMENT PROCESSING
# ============================================
# Get from Stripe Dashboard: https://dashboard.stripe.com/apikeys
STRIPE_API_KEY=sk_live_your_stripe_secret_key
# Get after setting up webhook endpoint in Stripe
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# ============================================
# EMAIL NOTIFICATIONS
# ============================================
# Option 1: Resend (recommended)
RESEND_API_KEY=re_your_resend_api_key
RESEND_FROM_EMAIL=noreply@yourdomain.com

# Option 2: SendGrid
# SENDGRID_API_KEY=SG.your_sendgrid_api_key
# SENDGRID_FROM=noreply@yourdomain.com

# ============================================
# FILE STORAGE (S3/R2)
# ============================================
# For Cloudflare R2 or AWS S3
S3_ENDPOINT=https://your-account-id.r2.cloudflarestorage.com
S3_BUCKET_NAME=your-bucket-name
S3_ACCESS_KEY_ID=your_access_key
S3_SECRET_ACCESS_KEY=your_secret_key
S3_REGION=auto  # 'auto' for R2, or AWS region like 'us-east-1'

# ============================================
# FEATURE FLAGS
# ============================================
ENABLE_LEGACY_CHECKOUT=false
USE_NEW_CHECKOUT=true
ENABLE_DEBUG=false

# ============================================
# ADMIN USER (Optional - for initial setup)
# ============================================
# Used by seed scripts to create initial admin user
MEDUSA_ADMIN_EMAIL=admin@yourdomain.com
MEDUSA_ADMIN_PASSWORD=your_secure_password

# ============================================
# API KEYS
# ============================================
# Generate using: npx medusa utils:api-key (after deployment)
# MEDUSA_PUBLISHABLE_KEY=pk_your_publishable_key

# ============================================
# MONITORING (Optional)
# ============================================
# Sentry for error tracking
# SENTRY_DSN=https://your_key@sentry.io/project_id

# LogDNA/DataDog for logging
# LOGDNA_KEY=your_logdna_ingestion_key
# DATADOG_API_KEY=your_datadog_api_key