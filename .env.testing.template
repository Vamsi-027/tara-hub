# ============================================
# Tara Hub - Testing Environment Configuration
# Copy this file to .env.testing for E2E tests
# ============================================

# Environment Type
NODE_ENV=test

# ============================================
# Database Configuration - Testing
# ============================================
# Priority order for E2E tests:
# 1. DATABASE_URL_TEST (dedicated test database)
# 2. NEON_DATABASE_URL (cloud database)
# 3. DATABASE_URL (fallback)
# 4. Testcontainers (if Docker available)

# Option A: Dedicated Test Database (Recommended)
DATABASE_URL_TEST=postgresql://username:password@host:port/test_database?sslmode=require

# Option B: Neon Cloud Database
NEON_DATABASE_URL=postgresql://username:password@ep-xxx.neon.tech/database?sslmode=require

# Option C: Local Development Database (fallback)
DATABASE_URL=postgresql://username:password@localhost:5432/medusa_dev?sslmode=require

# ============================================
# Testing Configuration
# ============================================
# Jest timeout for E2E tests with containers
JEST_TIMEOUT=120000

# Test data prefix (to avoid conflicts)
TEST_DATA_PREFIX=e2e_test_

# ============================================
# Medusa Testing Configuration
# ============================================
MEDUSA_BACKEND_URL=http://localhost:9000
JWT_SECRET=test_jwt_secret_for_e2e_only
COOKIE_SECRET=test_cookie_secret_for_e2e_only

# ============================================
# CORS for Testing
# ============================================
STORE_CORS=http://localhost:3000,http://localhost:3006,http://localhost:3007
ADMIN_CORS=http://localhost:3000,http://localhost:9000
AUTH_CORS=http://localhost:3000,http://localhost:9000

# ============================================
# Optional: Mock Services for Testing
# ============================================
# STRIPE_API_KEY=sk_test_xxx (use test keys only)
# RESEND_API_KEY=re_test_xxx (use test keys only)